#!/usr/bin/env python
import sys
import pep8
import subprocess

# this is a pep8 executable wrapper to:
# * log stdout for jenkins
# * returning sys.exit(0) otherwise jenkins fails

if __name__ == '__main__':
    report_file = 'pep8.out'
    log = open('pep8.out', 'w')
    subprocess.Popen('pep8', stdout=log)
    # ignoring exit code, jenkins generates
    # a report based on pep8.out
    log.close()
    print 'pep8 report available in: {0}'.format(report_file)
    sys.exit(0)
